AFRAME.registerShader('sphere_liepaja', {
  schema: {
    timeMsec: {type:'time'},
  },
  
  uniforms: {
      // the texture value (once the texture source is loaded, update)
      //map: { type: 't', value: null },
      // texture parameters
      timeMsec: {type:'time', is:'uniform'},
  },

  init: function(data) {
      
      this.material = new THREE.ShaderMaterial({

          uniforms: this.uniforms,
          vertexShader: this.vertexShader,
          fragmentShader: this.fragmentShader
        
      });
  },
                               



  update: function (data) {
    //console.log(data.something)

      //AFRAME.utils.material.updateMap(this, data);
       this.uniforms.timeMsec.value = data.timeMsec;
       //this.uniforms.interpolate.value = (data.timeMsec%500.0)/500;
       //this.uniforms.something.value = data.something;
      //console.log(data.timeMsec)
      //console.log((data.timeMsec%500.0)/500)
    
      //if ((data.timeMsec%500.0)-this.timeBefore < 0.0){
      //  console.log('tick')
      //  setTimeout(animate,2000);
        //animate();
      //}
      //console.log(this.timeBefore, data.timeMsec, (data.timeMsec%500.0)-this.timeBefore )
      //this.timeBefore = (data.timeMsec%500.0);
     
   },

  
  vertexShader: `


varying vec3 p;


void main() {
  p = vec3(vec4(position,1.0));
  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

}

`,
  fragmentShader: `

//varying float noise;
varying vec3 p;
const float PI = 3.14159;
uniform float timeMsec;

float map(float value, float min1, float max1, float min2, float max2)
{
  // Convert the current value to a percentage
  // 0% - min1, 100% - max1
  float perc = (value - min1) / (max1 - min1);

  // Do the same operation backwards with min2 and max2
  return perc * (max2 - min2) + min2;
}

float chladni(vec3 pos, float k,float l,float m,float s,float L)
{

return cos(k*pos.x*PI/L)*(cos(l*pos.y*PI/L)*cos(m*pos.z*PI/L)+s*cos(m*pos.y*PI/L)*cos(l*pos.z*PI/L))+
       cos(l*pos.x*PI/L)*(cos(k*pos.y*PI/L)*cos(m*pos.z*PI/L)+s*cos(m*pos.y*PI/L)*cos(k*pos.z*PI/L))+
       cos(m*pos.x*PI/L)*(cos(k*pos.y*PI/L)*cos(l*pos.z*PI/L)+s*cos(l*pos.y*PI/L )*cos(k*pos.z*PI/L));// where k, l and m are integers, s=âˆ“ 1.
}

float[] k = float[](87.91699981689453, 89.625, 73.45800018310547, 64.54199981689453, 94.54199981689453, 92.5, 93.20800018310547, 87.125, 99.08300018310547, 86.45800018310547, 92.25, 92.83300018310547, 79.625, 87.75, 86.91699981689453, 85.375, 85.58300018310547, 88.375, 89.0, 91.08300018310547, 72.54199981689453, 79.58300018310547, 93.66699981689453, 85.91699981689453, 89.33300018310547, 91.83300018310547, 94.58300018310547, 91.20800018310547, 91.375, 93.25, 97.25, 88.5, 76.625, 83.83300018310547, 74.75, 74.95800018310547, 67.83300018310547, 88.41699981689453, 85.75, 87.20800018310547, 84.33300018310547, 84.54199981689453, 77.33300018310547, 92.41699981689453, 93.70800018310547, 84.54199981689453, 92.41699981689453, 93.70800018310547, 84.875, 76.70800018310547, 83.95800018310547, 88.83300018310547, 86.625, 86.04199981689453, 89.29199981689453, 78.375, 75.95800018310547, 93.41699981689453, 82.375, 88.20800018310547, 84.29199981689453, 76.125, 86.875, 88.58300018310547, 95.83300018310547, 92.66699981689453, 90.125, 75.33300018310547, 84.20800018310547, 86.125, 73.95800018310547, 89.95800018310547, 85.25, 83.91699981689453, 84.08300018310547, 64.91699981689453, 58.29199981689453, 79.04199981689453, 91.70800018310547, 91.5, 82.375, 82.875, 64.04199981689453, 60.41699981689453, 62.91699981689453, 65.5, 71.125, 66.0, 47.625, 56.130001068115234, 56.91299819946289, 72.75, 68.29199981689453, 84.25, 83.875, 73.75, 74.66699981689453, 87.79199981689453, 61.41699981689453, 64.54199981689453, 83.125, 75.70800018310547, 85.75, 86.83300018310547, 70.83300018310547, 72.95800018310547, 64.45800018310547, 80.66699981689453, 76.0, 68.125, 68.33300018310547, 67.875, 80.04199981689453, 76.5, 72.45800018310547, 83.375, 84.66699981689453, 69.58300018310547, 75.25, 61.375, 77.91699981689453, 67.75, 61.0, 66.75, 94.41699981689453, 96.58300018310547, 86.58300018310547, 75.16699981689453, 71.16699981689453, 75.29199981689453, 76.75, 83.41699981689453, 72.70800018310547, 76.16699981689453, 61.04199981689453, 68.0, 65.95800018310547, 80.58300018310547, 83.25, 79.20800018310547, 80.04199981689453, 85.25, 73.91699981689453, 64.83300018310547, 93.45800018310547, 84.41699981689453, 70.91699981689453, 85.08300018310547, 74.5, 70.08300018310547, 69.04199981689453, 50.41699981689453, 63.33000183105469, 57.45800018310547, 57.58300018310547, 68.75, 68.875, 83.33300018310547, 80.0, 92.04199981689453, 78.83300018310547, 83.83300018310547, 86.08300018310547, 85.33300018310547, 63.375, 56.25, 87.95800018310547, 81.625, 77.95800018310547, 70.25, 78.16699981689453, 80.79199981689453, 84.25, 83.75, 88.54199981689453, 64.45800018310547, 60.58300018310547, 60.04199981689453, 73.0, 89.125, 91.79199981689453, 83.20800018310547, 82.875, 88.08300018310547, 76.25, 85.125, 96.58300018310547, 77.08300018310547, 76.95800018310547, 74.54199981689453, 74.875, 86.375, 80.375, 77.04199981689453, 81.33300018310547, 85.0, 78.375, 63.83300018310547, 61.625, 68.70800018310547, 69.04199981689453, 73.70800018310547, 77.0, 74.75, 69.66699981689453, 81.79199981689453, 82.83300018310547, 77.04199981689453, 83.125, 83.95800018310547, 76.125, 78.625, 84.375, 78.79199981689453, 83.66699981689453, 76.125, 78.625, 84.375, 78.79199981689453, 83.66699981689453, 89.125, 90.25, 76.04199981689453, 81.79199981689453, 68.83300018310547, 65.70800018310547, 71.79199981689453, 76.54199981689453, 70.29199981689453, 78.41699981689453, 81.625, 75.0, 85.33300018310547, 77.33300018310547, 62.20800018310547, 67.91699981689453, 80.16699981689453, 88.625, 86.70800018310547, 82.0, 71.375, 77.08300018310547, 89.33300018310547, 85.33300018310547, 75.58300018310547, 90.45800018310547, 79.08300018310547, 82.58300018310547, 74.95800018310547, 85.54199981689453, 88.0, 86.25, 85.25, 71.70800018310547, 78.45800018310547, 80.83300018310547, 82.58300018310547, 71.45800018310547, 72.70800018310547, 72.54199981689453, 74.58300018310547, 89.625, 91.79199981689453, 89.0, 71.0, 64.75, 78.125, 86.16699981689453, 81.91699981689453, 82.0, 81.5, 81.95800018310547, 86.0, 70.91699981689453, 65.95800018310547, 85.16699981689453, 85.375, 85.16699981689453, 79.29199981689453, 79.20800018310547, 89.41699981689453, 78.95800018310547, 84.5479965209961, 85.625, 86.29199981689453, 90.25, 84.83300018310547, 88.91699981689453, 74.25, 88.5, 86.58300018310547, 83.20800018310547, 87.04199981689453, 86.79199981689453, 79.125, 70.125, 54.5, 64.33300018310547, 90.95800018310547, 89.54199981689453, 84.91699981689453, 85.66699981689453, 87.875, 89.91699981689453, 90.58300018310547, 82.625, 92.45500183105469, 92.875, 95.375, 80.79199981689453, 93.45800018310547, 86.33300018310547, 76.70800018310547, 78.875, 91.66699981689453, 95.75, 87.79199981689453, 92.0, 85.375, 90.25, 86.83300018310547, 91.45800018310547, 90.70800018310547, 93.41699981689453, 88.91699981689453, 92.73899841308594, 94.75, 80.95800018310547, 59.125, 69.54199981689453, 79.41699981689453, 71.75, 81.58300018310547, 90.625, 87.33300018310547, 83.20800018310547, 86.04199981689453, 88.5479965209961, 91.54199981689453, 88.875, 86.45800018310547, 84.375, 82.16699981689453, 82.91699981689453, 85.75, 59.04199981689453, 69.625, 80.66699981689453, 82.625, 85.54199981689453, 92.25);
float[] l = float[](4.921000003814697, 5.300000190734863, 5.300000190734863, 4.446000099182129, 2.924999952316284, 5.046000003814697, 5.25, 5.5920000076293945, 5.11299991607666, 5.0879998207092285, 3.3540000915527344, 5.507999897003174, 5.257999897003174, 4.724999904632568, 6.729000091552734, 6.257999897003174, 4.578999996185303, 4.5329999923706055, 5.333000183105469, 4.745999813079834, 6.038000106811523, 5.166999816894531, 4.392000198364258, 5.808000087738037, 5.007999897003174, 5.099999904632568, 4.132999897003174, 2.11299991607666, 3.5, 4.400000095367432, 4.232999801635742, 5.553999900817871, 5.458000183105469, 3.674999952316284, 0.3880000114440918, 1.4709999561309814, 2.7669999599456787, 0.6079999804496765, 3.821000099182129, 4.775000095367432, 5.754000186920166, 4.196000099182129, 4.642000198364258, 4.650000095367432, 2.4079999923706055, 2.2130000591278076, 5.5920000076293945, 7.242000102996826, 5.745999813079834, 4.928999900817871, 4.438000202178955, 4.328999996185303, 5.120999813079834, 5.150000095367432, 4.191999912261963, 1.7039999961853027, 3.933000087738037, 3.0209999084472656, 1.9830000400543213, 3.3540000915527344, 5.041999816894531, 5.2829999923706055, 5.36299991607666, 5.416999816894531, 4.4079999923706055, 4.132999897003174, 4.171000003814697, 3.5460000038146973, 4.867000102996826, 5.3420000076293945, 6.117000102996826, 5.742000102996826, 4.745999813079834, -0.028999999165534973, 2.882999897003174, 4.629000186920166, 2.6630001068115234, 5.867000102996826, 5.4079999923706055, 4.632999897003174, 0.8539999723434448, 0.17499999701976776, -0.9419999718666077, 2.6419999599456787, 4.050000190734863, 2.996000051498413, 6.4079999923706055, 5.560999870300293, 2.700000047683716, -0.3580000102519989, 0.6039999723434448, 5.0329999923706055, 5.688000202178955, 5.583000183105469, 4.892000198364258, 5.066999912261963, 7.400000095367432, 8.213000297546387, 6.2170000076293945, 6.913000106811523, 3.4709999561309814, 3.8540000915527344, 7.296000003814697, 6.188000202178955, 4.2829999923706055, 6.453999996185303, 7.007999897003174, 5.688000202178955, 5.7170000076293945, 5.870999813079834, 6.196000099182129, 7.441999912261963, 7.949999809265137, 7.046000003814697, 6.517000198364258, 6.321000099182129, 7.041999816894531, 7.571000099182129, 7.73799991607666, 5.642000198364258, 7.620999813079834, 10.288000106811523, 8.86299991607666, 7.132999897003174, 8.61299991607666, 10.845999717712402, 9.588000297546387, 8.142000198364258, 6.8420000076293945, 8.678999900817871, 9.529000282287598, 7.833000183105469, 7.2829999923706055, 6.882999897003174, 7.775000095367432, 8.517000198364258, 8.949999809265137, 8.503999710083008, 8.782999992370605, 9.267000198364258, 8.317000389099121, 8.654000282287598, 10.192000389099121, 10.925000190734863, 10.003999710083008, 10.807999610900879, 12.866999626159668, 10.996000289916992, 12.557999610900879, 11.637999534606934, 12.916999816894531, 15.791999816894531, 14.475000381469727, 14.017000198364258, 14.312999725341797, 14.479000091552734, 15.61299991607666, 12.532999992370605, 13.670999526977539, 13.579000473022461, 14.003999710083008, 17.13800048828125, 19.187999725341797, 19.187999725341797, 19.621000289916992, 19.632999420166016, 17.308000564575195, 14.416999816894531, 15.532999992370605, 16.107999801635742, 21.97100067138672, 21.975000381469727, 21.75, 21.238000869750977, 19.57900047302246, 17.270999908447266, 20.107999801635742, 22.075000762939453, 23.21299934387207, 22.363000869750977, 19.645999908447266, 19.158000946044922, 16.804000854492188, 16.674999237060547, 16.488000869750977, 16.45400047302246, 16.566999435424805, 16.88800048828125, 17.038000106811523, 15.446000099182129, 14.333000183105469, 15.053999900817871, 14.920999526977539, 15.407999992370605, 15.413000106811523, 15.517000198364258, 15.375, 15.333000183105469, 19.950000762939453, 19.625, 19.820999145507812, 20.854000091552734, 21.132999420166016, 17.895999908447266, 15.970999717712402, 16.392000198364258, 15.791999816894531, 17.354000091552734, 18.20400047302246, 18.312999725341797, 17.92099952697754, 17.746000289916992, 16.413000106811523, 17.038000106811523, 18.253999710083008, 15.854000091552734, 17.51300048828125, 16.929000854492188, 17.257999420166016, 17.746000289916992, 20.29599952697754, 22.450000762939453, 22.649999618530273, 20.363000869750977, 18.253999710083008, 17.038000106811523, 16.354000091552734, 16.91699981689453, 18.65399932861328, 17.882999420166016, 19.816999435424805, 19.895999908447266, 19.882999420166016, 20.45400047302246, 19.687999725341797, 20.433000564575195, 20.183000564575195, 18.725000381469727, 16.163000106811523, 15.128999710083008, 15.282999992370605, 14.583000183105469, 14.449999809265137, 17.753999710083008, 15.366999626159668, 14.508000373840332, 15.079000473022461, 16.113000869750977, 17.017000198364258, 16.59600067138672, 16.191999435424805, 14.404000282287598, 16.191999435424805, 16.617000579833984, 15.354000091552734, 13.319999694824219, 16.91699981689453, 15.928999900817871, 16.804000854492188, 16.83300018310547, 17.299999237060547, 12.449999809265137, 13.854000091552734, 14.788000106811523, 11.217000007629395, 15.392000198364258, 15.954000473022461, 16.238000869750977, 17.46299934387207, 17.65399932861328, 19.841999053955078, 19.158000946044922, 14.024999618530273, 11.517000198364258, 12.413000106811523, 13.75, 13.074999809265137, 13.182999610900879, 13.182999610900879, 17.591999053955078, 15.588000297546387, 14.788000106811523, 13.104000091552734, 12.220999717712402, 12.704000473022461, 10.720999717712402, 11.621000289916992, 8.350000381469727, 8.225000381469727, 5.742000102996826, 8.574999809265137, 5.9629998207092285, 4.833000183105469, 8.392000198364258, 8.657999992370605, 8.553999900817871, 9.762999534606934, 13.003999710083008, 12.682999610900879, 11.491999626159668, 11.817000389099121, 11.187999725341797, 12.116999626159668, 11.050000190734863, 10.157999992370605, 8.553999900817871, 6.8420000076293945, 8.637999534606934, 9.100000381469727, 12.524999618530273, 11.187999725341797, 10.628999710083008, 11.416999816894531, 10.657999992370605, 9.279000282287598, 5.708000183105469, 7.382999897003174, 3.9830000400543213, 4.916999816894531, 4.870999813079834, 5.270999908447266, 6.900000095367432, 8.937999725341797, 9.449999809265137, 11.116999626159668, 9.946000099182129, 5.632999897003174, 6.4079999923706055, 9.137999534606934, 8.600000381469727, 8.220999717712402, 9.253999710083008, 8.291999816894531, 5.2789998054504395, 2.73799991607666, 1.5959999561309814, 1.6749999523162842, 1.100000023841858, -2.1630001068115234, -1.2209999561309814, 1.9500000476837158, 5.745999813079834, 4.4710001945495605, 1.0130000114440918, -2.118000030517578, -3.4600000381469727, -3.128999948501587, -0.6710000038146973, 1.024999976158142, -1.4500000476837158, 6.041999816894531 );
float[] m = float[](1019.56298828125, 1016.1829833984375, 1008.5750122070312, 1001.0250244140625, 1020.625, 1019.5330200195312, 1019.72900390625, 1019.72900390625, 1013.9169921875, 1014.0130004882812, 1007.9749755859375, 1019.9169921875, 1011.3040161132812, 1011.9710083007812, 1011.4420166015625, 1008.3079833984375, 1018.0130004882812, 1024.1669921875, 1015.8380126953125, 1025.1290283203125, 1033.6290283203125, 1022.4959716796875, 1016.4130249023438, 1021.8499755859375, 1010.1580200195312, 1010.43798828125, 1013.0250244140625, 1010.2130126953125, 998.3920288085938, 991.4580078125, 997.4749755859375, 993.6170043945312, 993.7379760742188, 988.5419921875, 997.2999877929688, 1001.2329711914062, 1017.2000122070312, 1015.3040161132812, 1027.154052734375, 1022.2379760742188, 1009.1829833984375, 977.8499755859375, 980.9130249023438, 988.7169799804688, 1001.4500122070312, 1014.5419921875, 1019.7379760742188, 1005.2830200195312, 999.1749877929688, 1004.5919799804688, 1005.1380004882812, 1013.1380004882812, 1008.2880249023438, 1003.1710205078125, 1003.1699829101562, 993.8829956054688, 1002.4000244140625, 994.2459716796875, 984.7670288085938, 988.9290161132812, 1000.81298828125, 1001.97900390625, 993.1079711914062, 996.9669799804688, 1000.1829833984375, 1001.6630249023438, 1004.7999877929688, 1004.8670043945312, 1007.0919799804688, 1014.6630249023438, 1011.64599609375, 1004.9669799804688, 991.5540161132812, 990.7919921875, 997.0460205078125, 1004.8670043945312, 1007.0919799804688, 1014.6630249023438, 1011.64599609375, 1004.9669799804688, 991.5540161132812, 990.7919921875, 997.0460205078125, 1015.2880249023438, 1022.4290161132812, 1014.9879760742188, 1022.3579711914062, 1017.4000244140625, 1018.5289916992188, 1022.1079711914062, 1029.1080322265625, 1038.5830078125, 1036.178955078125, 1034.6920166015625, 1029.595947265625, 1019.60400390625, 1019.5609741210938, 1020.625, 1022.2130126953125, 1008.0670166015625, 998.4210205078125, 995.7169799804688, 1016.89599609375, 1031.0830078125, 1031.238037109375, 1025.342041015625, 1028.258056640625, 1015.7039794921875, 1022.1669921875, 1025.9000244140625, 1013.7630004882812, 1001.1420288085938, 1007.9000244140625, 1006.4829711914062, 1003.7039794921875, 1012.875, 1017.75, 1020.6829833984375, 1026.678955078125, 1028.8289794921875, 1019.7080078125, 1005.7880249023438, 1004.3380126953125, 1006.8920288085938, 1009.5040283203125, 1002.8289794921875, 1007.3579711914062, 1010.2210083007812, 1004.8880004882812, 1003.0750122070312, 1008.8170166015625, 1013.8250122070312, 1012.43798828125, 1012.8289794921875, 1014.1875, 1014.4000244140625, 1012.8289794921875, 1010.5960083007812, 1001.7830200195312, 1006.4920043945312, 1007.72900390625, 1012.6290283203125, 1010.9669799804688, 1008.14599609375, 1009.125, 1012.2169799804688, 1012.2459716796875, 1019.4959716796875, 1022.6079711914062, 1023.6079711914062, 1021.0130004882812, 1016.5999755859375, 1022.0, 1030.928955078125, 1028.345947265625, 1025.491943359375, 1026.4210205078125, 1022.1959838867188, 1021.9749755859375, 1022.6500244140625, 1016.5960083007812, 1009.02099609375, 1002.6079711914062, 996.5919799804688, 999.7249755859375, 1009.1539916992188, 1009.7420043945312, 1015.4959716796875, 1013.0540161132812, 1014.7130126953125, 1018.52099609375, 1018.8670043945312, 1013.68798828125, 1013.2880249023438, 1014.0960083007812, 1010.8670043945312, 1010.9959716796875, 1011.9039916992188, 1014.64599609375, 1015.1959838867188, 1018.7210083007812, 1024.77099609375, 1026.425048828125, 1022.4169921875, 1013.2670288085938, 1009.6630249023438, 1008.3380126953125, 1002.06298828125, 1002.0289916992188, 1005.2630004882812, 1010.9039916992188, 1011.31298828125, 1005.3880004882812, 1002.9879760742188, 1007.7670288085938, 1009.0540161132812, 1012.4290161132812, 1008.7750244140625, 1011.3829956054688, 1018.8419799804688, 1018.3460083007812, 1016.5670166015625, 1013.7630004882812, 1011.6539916992188, 1016.6500244140625, 1020.3040161132812, 1018.5289916992188, 1012.9000244140625, 1012.4829711914062, 1012.4130249023438, 1011.1829833984375, 1007.93798828125, 1008.3040161132812, 1013.9039916992188, 1015.93798828125, 1011.2459716796875, 1009.6630249023438, 1010.3079833984375, 1010.125, 1015.4829711914062, 1013.5830078125, 1009.6240234375, 1009.3579711914062, 1009.3579711914062, 1017.1539916992188, 1024.2540283203125, 1026.9830322265625, 1024.0, 1020.18798828125, 1020.4819946289062, 1023.1790161132812, 1023.25, 1019.0130004882812, 1016.4959716796875, 1016.8170166015625, 1016.6539916992188, 1014.4500122070312, 1011.25, 1008.8380126953125, 1010.8040161132812, 1014.39599609375, 1011.1790161132812, 1008.5880126953125, 1008.2249755859375, 1008.2249755859375, 1008.2249755859375, 1008.2459716796875, 1003.06298828125, 1002.4580078125, 1009.1290283203125, 1005.2459716796875, 1007.9459838867188, 1009.9710083007812, 1017.0709838867188, 1016.8670043945312, 1014.7329711914062, 1014.9500122070312, 1012.1829833984375, 1011.8040161132812, 1015.6170043945312, 1013.9619750976562, 1012.2210083007812, 1009.10400390625, 1016.6170043945312, 1014.77099609375, 1016.85400390625, 1021.2540283203125, 1023.31298828125, 1013.9130249023438, 1018.2210083007812, 1023.8629760742188, 1022.5380249023438, 1023.0670166015625, 1017.1630249023438, 1012.7670288085938, 1007.06298828125, 1004.5330200195312, 1003.2999877929688, 1000.2000122070312, 1006.5330200195312, 1013.9959716796875, 1017.9929809570312, 1017.22900390625, 1012.4210205078125, 1012.97900390625, 1011.1539916992188, 1002.5289916992188, 1007.0670166015625, 1013.1329956054688, 1012.0380249023438, 1015.2880249023438, 1015.7750244140625, 1015.0250244140625, 1015.4210205078125, 1013.1710205078125, 1013.7379760742188, 1019.0419921875, 1018.1539916992188, 1004.0460205078125, 1011.10400390625, 1018.6290283203125, 1009.2630004882812, 1002.8079833984375, 1005.2039794921875, 1007.2080078125, 1010.4329833984375, 1007.6420288085938, 1006.8250122070312, 1009.5, 1008.9249877929688, 1011.5330200195312, 1022.52099609375, 1019.1669921875, 1009.5330200195312, 1014.0919799804688, 1020.8629760742188, 1021.125, 1022.5499877929688, 1025.074951171875, 1023.5040283203125, 1029.741943359375, 1032.6209716796875, 1031.175048828125, 1025.9210205078125, 1021.6209716796875, 1019.4039916992188, 1017.2919921875, 1013.4500122070312, 1016.8460083007812, 1016.3670043945312, 1004.6580200195312, 1015.2830200195312, 1022.4080200195312, 1007.6580200195312, 1008.7880249023438, 1014.8499755859375, 1016.0880126953125, 1012.0380249023438, 1013.7960205078125, 1022.4879760742188, 1024.366943359375, 1019.31298828125, 1022.1209716796875, 1026.866943359375, 1016.7860107421875, 1008.1539916992188, 1010.2579956054688, 1016.5289916992188, 1016.6539916992188, 1019.2130126953125, 1022.0540161132812 );
float[] S = float[](26.04199981689453, 29.58300018310547, 38.75, 27.91699981689453, 23.95800018310547, 25.312999725341797, 22.917999267578125, 40.625, 22.91699981689453, 14.375, 22.5, 43.75, 17.29199981689453, 28.75, 39.58300018310547, 32.70800018310547, 22.29199981689453, 32.08300018310547, 23.54199981689453, 27.5, 33.125, 26.45800018310547, 25.41699981689453, 35.20800018310547, 18.125, 29.375, 18.125, 20.83300018310547, 19.58300018310547, 20.0, 11.875, 24.375, 33.33300018310547, 17.5, 14.375, 21.04199981689453, 21.66699981689453, 13.333000183105469, 22.70800018310547, 31.957000732421875, 49.16699981689453, 32.91699981689453, 34.58300018310547, 32.70800018310547, 34.58300018310547, 32.70800018310547, 10.625, 25.41699981689453, 42.5, 47.91699981689453, 40.0, 33.75, 17.08300018310547, 28.95800018310547, 49.58300018310547, 45.869998931884766, 20.625, 18.95800018310547, 38.54199981689453, 21.66699981689453, 10.625, 20.20800018310547, 26.25, 15.416999816894531, 11.041999816894531, 27.70800018310547, 20.83300018310547, 11.458000183105469, 13.329999923706055, 12.291999816894531, 17.91699981689453, 22.29199981689453, 39.974998474121094, 46.04199981689453, 37.70800018310547, 26.45800018310547, 30.83300018310547, 29.375, 17.5, 32.08300018310547, 20.979000091552734, 17.0, 22.479000091552734, 16.33300018310547, 8.458000183105469, 21.04199981689453, 23.020999908447266, 11.791999816894531, 9.895999908447266, 10.0649995803833, 27.695999145507812, 15.125, 20.062999725341797, 30.229000091552734, 38.875, 41.875, 24.70800018310547, 15.875, 14.375, 22.95800018310547, 15.895999908447266, 16.812999725341797, 9.770999908447266, 11.812999725341797, 32.854000091552734, 25.187999725341797, 25.270999908447266, 20.145999908447266, 17.45800018310547, 21.229000091552734, 12.604000091552734, 15.229000091552734, 12.166999816894531, 13.270999908447266, 15.062999725341797, 17.854000091552734, 13.354000091552734, 15.062999725341797, 17.583999633789062, 13.354000091552734, 7.833000183105469, 13.333000183105469, 18.0, 12.520999908447266, 17.5, 8.208000183105469, 14.25, 16.875, 11.437999725341797, 16.33300018310547, 13.479000091552734, 18.604000091552734, 9.979000091552734, 12.604000091552734, 19.45800018310547, 21.0, 32.95800018310547, 20.979000091552734, 28.70800018310547, 39.604000091552734, 34.145999908447266, 20.520999908447266, 16.770999908447266, 16.54199981689453, 23.66699981689453, 17.812999725341797, 16.645999908447266, 12.458000183105469, 12.604000091552734, 14.125, 13.604000091552734, 17.270999908447266, 20.20800018310547, 18.70800018310547, 25.45800018310547, 15.958000183105469, 16.125, 13.520999908447266, 11.88599967956543, 14.562999725341797, 23.25, 10.270999908447266, 14.208000183105469, 13.437999725341797, 14.0, 15.916999816894531, 21.20800018310547, 23.5, 19.75, 11.345000267028809, 12.145999908447266, 11.562999725341797, 16.062999725341797, 12.020999908447266, 10.520999908447266, 11.041999816894531, 13.166999816894531, 9.75, 10.041999816894531, 9.708000183105469, 8.625, 8.145999908447266, 21.79199981689453, 30.187999725341797, 18.979000091552734, 12.354000091552734, 22.04199981689453, 29.854000091552734, 25.645999908447266, 19.520999908447266, 9.270999908447266, 32.354000091552734, 21.270999908447266, 15.041999816894531, 12.562999725341797, 7.791999816894531, 11.354000091552734, 10.083000183105469, 9.312999725341797, 8.25, 12.125, 22.145999908447266, 22.95800018310547, 21.25, 24.479000091552734, 16.79199981689453, 10.437999725341797, 10.208000183105469, 11.354000091552734, 23.854000091552734, 38.79199981689453, 26.33300018310547, 14.833000183105469, 10.895999908447266, 9.104000091552734, 9.125, 14.166999816894531, 8.270999908447266, 8.25, 8.583000183105469, 15.104000091552734, 15.125, 12.0, 10.875, 7.270999908447266, 6.708000183105469, 8.125, 8.125, 11.020999908447266, 11.395999908447266, 7.770999908447266, 8.437999725341797, 14.895999908447266, 21.395999908447266, 24.770999908447266, 11.979000091552734, 11.291999816894531, 13.458000183105469, 6.333000183105469, 15.104000091552734, 17.54199981689453, 11.25, 11.645999908447266, 17.54199981689453, 14.041999816894531, 22.520999908447266, 19.375, 15.833000183105469, 29.270999908447266, 28.437999725341797, 24.04199981689453, 16.25, 28.79199981689453, 32.520999908447266, 26.29199981689453, 11.541999816894531, 15.166999816894531, 29.33300018310547, 20.479000091552734, 9.687999725341797, 10.312999725341797, 19.562999725341797, 17.79199981689453, 13.770999908447266, 11.520999908447266, 9.770999908447266, 17.937999725341797, 20.437999725341797, 12.333000183105469, 7.541999816894531, 11.979000091552734, 14.25, 15.625, 22.312999725341797, 23.062999725341797, 14.437999725341797, 26.437999725341797, 13.75, 15.687999725341797, 20.020999908447266, 12.291999816894531, 12.333000183105469, 10.458000183105469, 9.5, 27.41699981689453, 18.75, 8.416999816894531, 6.395999908447266, 24.16699981689453, 27.16699981689453, 13.083000183105469, 15.812999725341797, 33.229000091552734, 28.0, 17.875, 15.25, 16.104000091552734, 15.395999908447266, 23.645999908447266, 12.52299976348877, 9.187999725341797, 75.0, 16.895999908447266, 24.104000091552734, 29.104000091552734, 28.58300018310547, 36.95800018310547, 14.708000183105469, 21.645999908447266, 13.687999725341797, 8.104000091552734, 4.833000183105469, 9.645999908447266, 12.770999908447266, 16.0, 13.125, 15.791999816894531, 19.562999725341797, 22.042999267578125, 36.0, 42.54800033569336, 28.08300018310547, 33.604000091552734, 39.5, 32.604000091552734, 27.375, 22.604000091552734, 25.812999725341797, 17.79199981689453, 17.20800018310547, 11.291999816894531, 8.979000091552734, 15.541999816894531, 16.729000091552734, 19.95800018310547, 23.54199981689453, 22.375, 25.770999908447266, 26.08300018310547, 25.645999908447266, 18.104000091552734, 18.145999908447266, 15.75, 17.854000091552734, 12.666999816894531, 11.708000183105469, 18.0, 18.312999725341797, 17.29199981689453, 22.729000091552734, 21.83300018310547 );

void main() {

  float timeSec = (timeMsec/1000.0)*0.5;
  float fracttime = fract(timeSec);
  int time = int(timeSec);

  vec3 color = vec3(0.0);
  float a = 1.0;
  
  float kinterp = mix(k[time%348], k[(time+1)%348], fracttime);
  float linterp = mix(l[time%348], l[(time+1)%348], fracttime);
  float minterp = map(mix(m[time%348], m[(time+1)%348], fracttime),2.44,10.0,0.0,20.0);
  float Sinterp = map(mix(S[time%348], S[(time+1)%348], fracttime),966.783,1024.6,0.0,5.0);
  
  float lines = abs(chladni(p, kinterp , linterp ,minterp,Sinterp,2.0));
  
  if (lines > 0.3)
  {
  discard; 
  }
  
  color = vec3(dot(p, p));

  gl_FragColor = vec4( color*pow(1.0-lines,1.5) , 1.0 );

}

`
});

